<script>
  import {
    liveGamepiece,
    gameState,
    gameData,
    autoDataLog,
    teleDataLog,
    liveLocation,
  } from "./stores";

  export let level = 1;
  export let type = "Success";
  export let gameMode = "Auto";

  let dataField = " ";
  let locationField = " ";

  let displayConeValue = 0;
  let displayCubeValue = 0;

  function update() {
    if ($gameState === 0) {
      //            $liveLocation = "Floor"; //force pickup location to be floor in auto
      $autoDataLog.push(JSON.parse(JSON.stringify($gameData)));
    } else {
      $teleDataLog.push(JSON.parse(JSON.stringify($gameData)));
    }

    dataField = gameMode + gameLevelMap[level] + $liveGamepiece + type;
    locationField = gameMode + $liveLocation + $liveGamepiece + "Collect";
    $gameData[dataField] = $gameData[dataField] + 1;
    $gameData[locationField] = $gameData[locationField] + 1;
    console.log(
      "Location " + $liveLocation + " Location field" + locationField
    );

    $liveGamepiece = 0;
  }

  let gameLevelMap = {
    1: "Amp",
    2: "Speaker",
    3: "Trap",
  };
</script>

<div class="indicator">
  <span class="indicator-item badge badge-accent text-xl"
    >{$gameData[gameMode + gameLevelMap[level] + "Note" + type]}</span
  >

  <button
    class="btn btn-square btn-outline rounded-md w-24 h-24"
    disabled={$liveGamepiece == 0}
    on:click={update}
  >
    {#if type === "Success"}
      <span
        class="indicator-item indicator-left indicator-left indicator-start badge badge-primary"
        >{gameLevelMap[level]}</span
      >
      {#if level == 1}
        <svg
          width="96px"
          height="96px"
          viewBox="0 0 64 64"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
          fill="#000000"
        >
          <g id="SVGRepo_bgCarrier" stroke-width="0" />

          <g
            id="SVGRepo_tracerCarrier"
            stroke-linecap="round"
            stroke-linejoin="round"
          />

          <g id="SVGRepo_iconCarrier">
            <title>Amplifier 1</title> <desc>Created with Sketch.</desc>
            <defs> </defs>
            <g
              id="Page-1"
              stroke="none"
              stroke-width="1"
              fill="none"
              fill-rule="evenodd"
              sketch:type="MSPage"
            >
              <g id="Amplifier-1" sketch:type="MSArtboardGroup" fill="#00ff00">
                <path
                  d="M19.1465,56.8535 C19.2445,56.9515 19.3725,56.9995 19.5005,56.9995 C19.6275,56.9995 19.7555,56.9515 19.8535,56.8535 C20.0485,56.6585 20.0485,56.3415 19.8535,56.1465 L7.8535,44.1465 C7.6585,43.9515 7.3415,43.9515 7.1465,44.1465 C6.9515,44.3415 6.9515,44.6585 7.1465,44.8535 L19.1465,56.8535 Z M11.1465,56.8535 C11.2445,56.9515 11.3725,56.9995 11.5005,56.9995 C11.6275,56.9995 11.7555,56.9515 11.8535,56.8535 C12.0485,56.6585 12.0485,56.3415 11.8535,56.1465 L7.8535,52.1465 C7.6585,51.9515 7.3415,51.9515 7.1465,52.1465 C6.9515,52.3415 6.9515,52.6585 7.1465,52.8535 L11.1465,56.8535 Z M15.1465,56.8535 C15.2445,56.9515 15.3725,56.9995 15.5005,56.9995 C15.6275,56.9995 15.7555,56.9515 15.8535,56.8535 C16.0485,56.6585 16.0485,56.3415 15.8535,56.1465 L7.8535,48.1465 C7.6585,47.9515 7.3415,47.9515 7.1465,48.1465 C6.9515,48.3415 6.9515,48.6585 7.1465,48.8535 L15.1465,56.8535 Z M46.0005,30.9995 L56.0005,30.9995 C56.5525,30.9995 57.0005,30.5525 57.0005,29.9995 L57.0005,27.9995 C57.0005,27.4475 56.5525,26.9995 56.0005,26.9995 L46.0005,26.9995 C45.4475,26.9995 45.0005,27.4475 45.0005,27.9995 L45.0005,29.9995 C45.0005,30.5525 45.4475,30.9995 46.0005,30.9995 L46.0005,30.9995 Z M53.0005,15.9995 C52.4485,15.9995 52.0005,15.5515 52.0005,14.9995 C52.0005,14.4485 52.4485,13.9995 53.0005,13.9995 C53.5515,13.9995 54.0005,14.4485 54.0005,14.9995 C54.0005,15.5515 53.5515,15.9995 53.0005,15.9995 L53.0005,15.9995 Z M53.0005,12.9995 C51.8955,12.9995 51.0005,13.8955 51.0005,14.9995 C51.0005,16.1045 51.8955,16.9995 53.0005,16.9995 C54.1045,16.9995 55.0005,16.1045 55.0005,14.9995 C55.0005,13.8955 54.1045,12.9995 53.0005,12.9995 L53.0005,12.9995 Z M43.0005,12.9995 C41.8955,12.9995 41.0005,13.8955 41.0005,14.9995 C41.0005,16.1045 41.8955,16.9995 43.0005,16.9995 C44.1045,16.9995 45.0005,16.1045 45.0005,14.9995 C45.0005,13.8955 44.1045,12.9995 43.0005,12.9995 L43.0005,12.9995 Z M37.0005,12.9995 C35.8955,12.9995 35.0005,13.8955 35.0005,14.9995 C35.0005,16.1045 35.8955,16.9995 37.0005,16.9995 C38.1045,16.9995 39.0005,16.1045 39.0005,14.9995 C39.0005,13.8955 38.1045,12.9995 37.0005,12.9995 L37.0005,12.9995 Z M31.0005,12.9995 C29.8955,12.9995 29.0005,13.8955 29.0005,14.9995 C29.0005,16.1045 29.8955,16.9995 31.0005,16.9995 C32.1045,16.9995 33.0005,16.1045 33.0005,14.9995 C33.0005,13.8955 32.1045,12.9995 31.0005,12.9995 L31.0005,12.9995 Z M25.0005,12.9995 C23.8955,12.9995 23.0005,13.8955 23.0005,14.9995 C23.0005,16.1045 23.8955,16.9995 25.0005,16.9995 C26.1045,16.9995 27.0005,16.1045 27.0005,14.9995 C27.0005,13.8955 26.1045,12.9995 25.0005,12.9995 L25.0005,12.9995 Z M16.0005,12.9995 L18.0005,12.9995 L18.0005,16.9995 L16.0005,16.9995 L16.0005,12.9995 Z M15.0005,17.9995 L19.0005,17.9995 L19.0005,11.9995 L15.0005,11.9995 L15.0005,17.9995 Z M10.0005,12.9995 L12.0005,12.9995 L12.0005,16.9995 L10.0005,16.9995 L10.0005,12.9995 Z M9.0005,17.9995 L13.0005,17.9995 L13.0005,11.9995 L9.0005,11.9995 L9.0005,17.9995 Z M59.0005,20.9995 L5.0005,20.9995 L5.0005,9.9995 C5.0005,9.4485 5.4485,8.9995 6.0005,8.9995 L58.0005,8.9995 C58.5515,8.9995 59.0005,9.4485 59.0005,9.9995 L59.0005,20.9995 Z M58.0005,7.9995 L6.0005,7.9995 C4.8955,7.9995 4.0005,8.8955 4.0005,9.9995 L4.0005,21.9995 L60.0005,21.9995 L60.0005,9.9995 C60.0005,8.8955 59.1045,7.9995 58.0005,7.9995 L58.0005,7.9995 Z M5.0005,24.9995 L59.0005,24.9995 L59.0005,57.9995 C59.0005,58.5515 58.5515,58.9995 58.0005,58.9995 L6.0005,58.9995 C5.4485,58.9995 5.0005,58.5515 5.0005,57.9995 L5.0005,24.9995 Z M4.0005,57.9995 C4.0005,59.0995 4.9005,59.9995 6.0005,59.9995 L58.0005,59.9995 C59.0995,59.9995 60.0005,59.0995 60.0005,57.9995 L60.0005,23.9995 L4.0005,23.9995 L4.0005,57.9995 Z M62.0005,58.9995 C62.0005,60.6545 60.6545,61.9995 59.0005,61.9995 L5.0005,61.9995 C3.3455,61.9995 2.0005,60.6545 2.0005,58.9995 L2.0005,8.9995 C2.0005,7.3455 3.3455,5.9995 5.0005,5.9995 L15.0005,5.9995 L49.0005,5.9995 L59.0005,5.9995 C60.6545,5.9995 62.0005,7.3455 62.0005,8.9995 L62.0005,58.9995 Z M32.0005,1.9995 C35.1455,1.9995 38.2185,2.8465 40.9895,3.9995 L23.0115,3.9995 C25.7835,2.8465 28.8555,1.9995 32.0005,1.9995 L32.0005,1.9995 Z M59.0005,3.9995 L45.5915,3.9995 C41.4665,1.7605 36.8615,-0.0005 32.0005,-0.0005 C27.1395,-0.0005 22.5345,1.7615 18.4085,3.9995 L5.0005,3.9995 C2.2505,3.9995 0.0005,6.2495 0.0005,8.9995 L0.0005,58.9995 C0.0005,61.7495 2.2505,63.9995 5.0005,63.9995 L59.0005,63.9995 C61.7505,63.9995 64.0005,61.7495 64.0005,58.9995 L64.0005,8.9995 C64.0005,6.2495 61.7505,3.9995 59.0005,3.9995 L59.0005,3.9995 Z"
                  sketch:type="MSShapeGroup"
                >
                </path>
              </g>
            </g>
          </g>
        </svg>
      {/if}
      {#if level == 2}
      <svg width="96px" height="96px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">

        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
        
        <g id="SVGRepo_iconCarrier"> <path d="M16 9C16.5 9.5 17 10.5 17 12C17 13.5 16.5 14.5 16 15M19 6C20.5 7.5 21 10 21 12C21 14 20.5 16.5 19 18M13 3L7 8H5C3.89543 8 3 8.89543 3 10V14C3 15.1046 3.89543 16 5 16H7L13 21V3Z" stroke="#00ff00" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </g>
        
        </svg>
      {/if}
      {#if level == 3}
      <svg width="96px" height="96px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="#000000">

        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="11.264"/>
        
        <g id="SVGRepo_iconCarrier">
        
        <path fill="#00ff00" d="M246.253 280.552l71.99 97.834-166.207 48.293zm.274-37.243L138.877 97.006 21 279.83l107.65 146.3 114.21-177.108zm162.63 9.728l34.46-53.457-38.665 11.226v33.426zm-115.097-2.12l-10.515-4.89-18.56 5.388-7.17 11.126 77.33 105.143 31.99-49.628-20.28-42.88zm45.55-88.33h65.405v27.44l44.9-13.06L342.254 30.566 154.83 85.02l107.712 146.39 77.055-22.45v-46.373zm45.45 86.06v-66.105h-25.507v49.49l-13.533-5.1-34.012 10.277 49.89 22.937 104.62 221.287 24.482-7.11z"/>
        
        </g>
        
        </svg>
      {/if}
      <!-- <svg
                fill="#1bbb43"
                viewBox="0 0 24 24"
                width="96px"
                height="96px"
                xmlns="http://www.w3.org/2000/svg"
                stroke="#1bbb43"
                ><g id="SVGRepo_bgCarrier" stroke-width="0" /><g
                    id="SVGRepo_tracerCarrier"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                /><g id="SVGRepo_iconCarrier">
                    <polygon
                        fill-rule="evenodd"
                        points="9.707 14.293 19 5 20.414 6.414 9.707 17.121 4 11.414 5.414 10"
                    />
                </g></svg
            > -->
    {:else}
      <!-- <svg
        fill="#e31c1c"
        viewBox="0 0 24 24"
        width="96px"
        height="96px"
        xmlns="http://www.w3.org/2000/svg"
        id="cross"
        class="icon glyph"
        stroke="#e31c1c"
        ><g id="SVGRepo_bgCarrier" stroke-width="0" /><g
          id="SVGRepo_tracerCarrier"
          stroke-linecap="round"
          stroke-linejoin="round"
        /><g id="SVGRepo_iconCarrier"
          ><path
            d="M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"
          /></g
        ></svg
      > -->
      {#if level ==1 }
      <svg width="96px" height="96px" viewBox="0 0 64 64" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" fill="#000000">

        <g id="SVGRepo_bgCarrier" stroke-width="0"/>
        
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
        
        <g id="SVGRepo_iconCarrier"> <title>Amplifier 1</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="Amplifier-1" sketch:type="MSArtboardGroup" fill="#ff0000"> <path d="M19.1465,56.8535 C19.2445,56.9515 19.3725,56.9995 19.5005,56.9995 C19.6275,56.9995 19.7555,56.9515 19.8535,56.8535 C20.0485,56.6585 20.0485,56.3415 19.8535,56.1465 L7.8535,44.1465 C7.6585,43.9515 7.3415,43.9515 7.1465,44.1465 C6.9515,44.3415 6.9515,44.6585 7.1465,44.8535 L19.1465,56.8535 Z M11.1465,56.8535 C11.2445,56.9515 11.3725,56.9995 11.5005,56.9995 C11.6275,56.9995 11.7555,56.9515 11.8535,56.8535 C12.0485,56.6585 12.0485,56.3415 11.8535,56.1465 L7.8535,52.1465 C7.6585,51.9515 7.3415,51.9515 7.1465,52.1465 C6.9515,52.3415 6.9515,52.6585 7.1465,52.8535 L11.1465,56.8535 Z M15.1465,56.8535 C15.2445,56.9515 15.3725,56.9995 15.5005,56.9995 C15.6275,56.9995 15.7555,56.9515 15.8535,56.8535 C16.0485,56.6585 16.0485,56.3415 15.8535,56.1465 L7.8535,48.1465 C7.6585,47.9515 7.3415,47.9515 7.1465,48.1465 C6.9515,48.3415 6.9515,48.6585 7.1465,48.8535 L15.1465,56.8535 Z M46.0005,30.9995 L56.0005,30.9995 C56.5525,30.9995 57.0005,30.5525 57.0005,29.9995 L57.0005,27.9995 C57.0005,27.4475 56.5525,26.9995 56.0005,26.9995 L46.0005,26.9995 C45.4475,26.9995 45.0005,27.4475 45.0005,27.9995 L45.0005,29.9995 C45.0005,30.5525 45.4475,30.9995 46.0005,30.9995 L46.0005,30.9995 Z M53.0005,15.9995 C52.4485,15.9995 52.0005,15.5515 52.0005,14.9995 C52.0005,14.4485 52.4485,13.9995 53.0005,13.9995 C53.5515,13.9995 54.0005,14.4485 54.0005,14.9995 C54.0005,15.5515 53.5515,15.9995 53.0005,15.9995 L53.0005,15.9995 Z M53.0005,12.9995 C51.8955,12.9995 51.0005,13.8955 51.0005,14.9995 C51.0005,16.1045 51.8955,16.9995 53.0005,16.9995 C54.1045,16.9995 55.0005,16.1045 55.0005,14.9995 C55.0005,13.8955 54.1045,12.9995 53.0005,12.9995 L53.0005,12.9995 Z M43.0005,12.9995 C41.8955,12.9995 41.0005,13.8955 41.0005,14.9995 C41.0005,16.1045 41.8955,16.9995 43.0005,16.9995 C44.1045,16.9995 45.0005,16.1045 45.0005,14.9995 C45.0005,13.8955 44.1045,12.9995 43.0005,12.9995 L43.0005,12.9995 Z M37.0005,12.9995 C35.8955,12.9995 35.0005,13.8955 35.0005,14.9995 C35.0005,16.1045 35.8955,16.9995 37.0005,16.9995 C38.1045,16.9995 39.0005,16.1045 39.0005,14.9995 C39.0005,13.8955 38.1045,12.9995 37.0005,12.9995 L37.0005,12.9995 Z M31.0005,12.9995 C29.8955,12.9995 29.0005,13.8955 29.0005,14.9995 C29.0005,16.1045 29.8955,16.9995 31.0005,16.9995 C32.1045,16.9995 33.0005,16.1045 33.0005,14.9995 C33.0005,13.8955 32.1045,12.9995 31.0005,12.9995 L31.0005,12.9995 Z M25.0005,12.9995 C23.8955,12.9995 23.0005,13.8955 23.0005,14.9995 C23.0005,16.1045 23.8955,16.9995 25.0005,16.9995 C26.1045,16.9995 27.0005,16.1045 27.0005,14.9995 C27.0005,13.8955 26.1045,12.9995 25.0005,12.9995 L25.0005,12.9995 Z M16.0005,12.9995 L18.0005,12.9995 L18.0005,16.9995 L16.0005,16.9995 L16.0005,12.9995 Z M15.0005,17.9995 L19.0005,17.9995 L19.0005,11.9995 L15.0005,11.9995 L15.0005,17.9995 Z M10.0005,12.9995 L12.0005,12.9995 L12.0005,16.9995 L10.0005,16.9995 L10.0005,12.9995 Z M9.0005,17.9995 L13.0005,17.9995 L13.0005,11.9995 L9.0005,11.9995 L9.0005,17.9995 Z M59.0005,20.9995 L5.0005,20.9995 L5.0005,9.9995 C5.0005,9.4485 5.4485,8.9995 6.0005,8.9995 L58.0005,8.9995 C58.5515,8.9995 59.0005,9.4485 59.0005,9.9995 L59.0005,20.9995 Z M58.0005,7.9995 L6.0005,7.9995 C4.8955,7.9995 4.0005,8.8955 4.0005,9.9995 L4.0005,21.9995 L60.0005,21.9995 L60.0005,9.9995 C60.0005,8.8955 59.1045,7.9995 58.0005,7.9995 L58.0005,7.9995 Z M5.0005,24.9995 L59.0005,24.9995 L59.0005,57.9995 C59.0005,58.5515 58.5515,58.9995 58.0005,58.9995 L6.0005,58.9995 C5.4485,58.9995 5.0005,58.5515 5.0005,57.9995 L5.0005,24.9995 Z M4.0005,57.9995 C4.0005,59.0995 4.9005,59.9995 6.0005,59.9995 L58.0005,59.9995 C59.0995,59.9995 60.0005,59.0995 60.0005,57.9995 L60.0005,23.9995 L4.0005,23.9995 L4.0005,57.9995 Z M62.0005,58.9995 C62.0005,60.6545 60.6545,61.9995 59.0005,61.9995 L5.0005,61.9995 C3.3455,61.9995 2.0005,60.6545 2.0005,58.9995 L2.0005,8.9995 C2.0005,7.3455 3.3455,5.9995 5.0005,5.9995 L15.0005,5.9995 L49.0005,5.9995 L59.0005,5.9995 C60.6545,5.9995 62.0005,7.3455 62.0005,8.9995 L62.0005,58.9995 Z M32.0005,1.9995 C35.1455,1.9995 38.2185,2.8465 40.9895,3.9995 L23.0115,3.9995 C25.7835,2.8465 28.8555,1.9995 32.0005,1.9995 L32.0005,1.9995 Z M59.0005,3.9995 L45.5915,3.9995 C41.4665,1.7605 36.8615,-0.0005 32.0005,-0.0005 C27.1395,-0.0005 22.5345,1.7615 18.4085,3.9995 L5.0005,3.9995 C2.2505,3.9995 0.0005,6.2495 0.0005,8.9995 L0.0005,58.9995 C0.0005,61.7495 2.2505,63.9995 5.0005,63.9995 L59.0005,63.9995 C61.7505,63.9995 64.0005,61.7495 64.0005,58.9995 L64.0005,8.9995 C64.0005,6.2495 61.7505,3.9995 59.0005,3.9995 L59.0005,3.9995 Z" sketch:type="MSShapeGroup"> </path> </g> </g> </g>
        
        </svg>
        {/if}
        {#if level ==2 }
        <svg width="96px" height="96px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">

            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
            
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
            
            <g id="SVGRepo_iconCarrier"> <path d="M16 9C16.5 9.5 17 10.5 17 12C17 13.5 16.5 14.5 16 15M19 6C20.5 7.5 21 10 21 12C21 14 20.5 16.5 19 18M13 3L7 8H5C3.89543 8 3 8.89543 3 10V14C3 15.1046 3.89543 16 5 16H7L13 21V3Z" stroke="#ff0000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </g>
            
            </svg>
        {/if}
        {#if level ==3}
        <svg width="96px" height="96px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="#000000">

            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
            
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="11.264"/>
            
            <g id="SVGRepo_iconCarrier">
            
            <path fill="#ff0000" d="M246.253 280.552l71.99 97.834-166.207 48.293zm.274-37.243L138.877 97.006 21 279.83l107.65 146.3 114.21-177.108zm162.63 9.728l34.46-53.457-38.665 11.226v33.426zm-115.097-2.12l-10.515-4.89-18.56 5.388-7.17 11.126 77.33 105.143 31.99-49.628-20.28-42.88zm45.55-88.33h65.405v27.44l44.9-13.06L342.254 30.566 154.83 85.02l107.712 146.39 77.055-22.45v-46.373zm45.45 86.06v-66.105h-25.507v49.49l-13.533-5.1-34.012 10.277 49.89 22.937 104.62 221.287 24.482-7.11z"/>
            
            </g>
            
            </svg>
            {/if}
    {/if}
  </button>
</div>
